import{u as l,k as C,c as g,a2 as P,d as f,q as x,v as p,b as y,C as A,N as h,x as R,B as v,a3 as E,S as b,F as c,a4 as r,I as u,a5 as $,A as D,H as I,a6 as k,a7 as O,a8 as T,a9 as B,aa as L,ab as N,ac as F,ad as S,ae as j,af as V,ag as z,ah as G}from"./chunks/framework.4014a90b.js";import{t as _}from"./chunks/theme.eef85c17.js";const H={class:"comments"},M=l({__name:"comment",setup(a){const e=C(),{title:n}=g(),t=P({repo:"GlobeMC/crashmc.com",repoId:"R_kgDOKBR8xw",category:"Giscus",categoryId:"DIC_kwDOKBR8x84CYOmB",mapping:"title",strict:"0",reactionsEnabled:"1",emitMetadata:"0",inputPosition:"top",theme:"preferred_color_scheme",lang:"zh-CN",loading:"lazy"}),s=f(!0);return x(()=>e.path,()=>{s.value=!1,setTimeout(()=>{s.value=!0},200)},{immediate:!0}),(i,d)=>(p(),y("div",H,[s.value?(p(),A(R("script"),{src:"https://giscus.app/client.js",key:h(n),"data-repo":t.repo,"data-repo-id":t.repoId,"data-category":t.category,"data-category-id":t.categoryId,"data-mapping":t.mapping,"data-strict":t.strict,"data-reactions-enabled":t.reactionsEnabled,"data-emit-metadata":t.emitMetadata,"data-input-position":t.inputPosition,"data-lang":t.lang,"data-theme":t.theme,"data-loading":t.loading},null,8,["data-repo","data-repo-id","data-category","data-category-id","data-mapping","data-strict","data-reactions-enabled","data-emit-metadata","data-input-position","data-lang","data-theme","data-loading"])):v("",!0)]))}});const q={key:0,class:"pwa-toast z-100 bg-$vp-c-bg border border-$pwa-divider fixed right-0 bottom-0 m-6 px-6 py-4 rounded shadow-xl",role:"alertdialog","aria-labelledby":"pwa-message"},K=c("div",{id:"pwa-message",class:"mb-3"}," 发现新内容可用，点击“刷新”按钮来更新文档 ",-1),W=l({__name:"ReloadPrompt",setup(a){const e=f(!1);let n;function t(){e.value=!0}async function s(){e.value=!1}return E(async()=>{const{registerSW:i}=await b(()=>import("./chunks/virtual_pwa-register.d41828fd.js"),["assets/chunks/virtual_pwa-register.d41828fd.js","assets/chunks/framework.4014a90b.js"]);n=i({immediate:!0,onNeedRefresh:t})}),(i,d)=>e.value?(p(),y("div",q,[K,c("button",{type:"button",class:"pwa-refresh mr-2 px-3 py-1 rounded",onClick:d[0]||(d[0]=Z=>{var m;return(m=h(n))==null?void 0:m()})}," 刷新 "),c("button",{type:"button",class:"pwa-cancel border border-$pwa-divider mr-2 px-3 py-1 rounded",onClick:s}," 取消 ")])):v("",!0)}});const U={..._,Layout:()=>r(_.Layout,null,{"doc-after":()=>r(M),"layout-bottom":()=>r(W)})};function w(a){if(a.extends){const e=w(a.extends);return{...e,...a,async enhanceApp(n){e.enhanceApp&&await e.enhanceApp(n),a.enhanceApp&&await a.enhanceApp(n)}}}return a}const o=w(U),Y=l({name:"VitePressApp",setup(){const{site:a}=g();return D(()=>{I(()=>{document.documentElement.lang=a.value.lang,document.documentElement.dir=a.value.dir})}),k(),O(),T(),o.setup&&o.setup(),()=>r(o.Layout)}});async function J(){const a=X(),e=Q();e.provide(B,a);const n=L(a.route);return e.provide(N,n),e.component("Content",F),e.component("ClientOnly",S),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),o.enhanceApp&&await o.enhanceApp({app:e,router:a,siteData:j}),{app:e,router:a,data:n}}function Q(){return V(Y)}function X(){let a=u,e;return z(n=>{let t=G(n);return t?(a&&(e=t),(a||e===t)&&(t=t.replace(/\.js$/,".lean.js")),u&&(a=!1),b(()=>import(t),[])):null},o.NotFound)}u&&J().then(({app:a,router:e,data:n})=>{e.go().then(()=>{$(e.route,n.site),a.mount("#app")})});export{J as createApp};
